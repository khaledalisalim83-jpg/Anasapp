<!-- ===========================
  ูุงูู: ูุงุฌูุฉ ุชุณุฌูู + ุชููุฆุฉ Firebase + ูุธุงุฆู Auth
  ุงูุตู ูุฐุง ููู ูู ุชุจููุจ HTML ูู CodePen
  (ุงูุณุญ ุฃู ููุฏ ูู ุชุจููุจ JS ูุจู ูุง ุชูุตู)
=========================== -->

<div style="display:flex;justify-content:center;margin-top:30px;">
  <div style="width:360px;background:#fff;border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(0,0,0,0.12);">
    <h2 style="margin:0 0 12px 0;font-size:20px">ุชุณุฌูู ุฏุฎูู / ุฅูุดุงุก ุญุณุงุจ</h2>

    <input id="email" type="email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #ddd;">
    <input id="password" type="password" placeholder="ูููุฉ ุงููุฑูุฑ" style="width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #ddd;">

    <div style="display:flex;gap:8px;margin-top:8px;">
      <button id="signupBtn" style="flex:1;padding:10px;border-radius:8px;border:none;background:#25d366;color:#fff;cursor:pointer;">ุฅูุดุงุก ุญุณุงุจ</button>
      <button id="loginBtn" style="flex:1;padding:10px;border-radius:8px;border:none;background:#128c7e;color:#fff;cursor:pointer;">ุชุณุฌูู ุฏุฎูู</button>
      <button id="logoutBtn" style="flex:1;padding:10px;border-radius:8px;border:none;background:#f44336;color:#fff;cursor:pointer;">ุฎุฑูุฌ</button>
    </div>

    <p id="status" style="margin-top:12px;min-height:20px;color:#333"></p>
  </div>
</div>

<!-- ููุชุจุงุช Firebase (v8.x) -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<script>
/* ======= ุถุน ูุฐุง ุงูููุฏ ููุง ูู =======
   (ููุฏ ุงุณุชุฎุฏูุช ุงูููู ุงูุชู ุฃุฑุณูุชูุง ูุณุจูุงู)
   ุฅุฐุง ุฃุฑุฏุช ุงุณุชุฎุฏุงู ููู ุฃุฎุฑู ุงุณุชุจุฏููุง ููุง.
*/

const firebaseConfig = {
  apiKey: "AIzaSyC4BsQEHa9EzIwVIt0bcyKbNFpCm_zTlIc",
  authDomain: "abuanaschatapp.firebaseapp.com",
  projectId: "abuanaschatapp",
  storageBucket: "abuanaschatapp.firebasestorage.app",
  messagingSenderId: "380767610591",
  appId: "1:380767610591:web:854f80735a4d4788206b6a",
  measurementId: "G-FPZ3JC4ZMC"
};

// ุชููุฆุฉ Firebase
firebase.initializeApp(firebaseConfig);

// ุฎุฏูุงุช Firebase
const auth = firebase.auth();
const db = firebase.firestore(); // ุฌุงูุฒ ูู ุงุญุชุฌูุง ููุงุนุฏ ุจูุงูุงุช ูุงุญูุงู

// ุนูุงุตุฑ ุงูุตูุญุฉ
const emailInput = document.getElementById("email");
const passInput = document.getElementById("password");
const signupBtn = document.getElementById("signupBtn");
const loginBtn = document.getElementById("loginBtn");
const logoutBtn = document.getElementById("logoutBtn");
const statusP = document.getElementById("status");

// ุฏูุงู ูุณุงุนุฏุฉ
function setStatus(text, isError = false) {
  statusP.innerText = text;
  statusP.style.color = isError ? "#c62828" : "#2e7d32";
}

// ุฅูุดุงุก ุญุณุงุจ
function signup() {
  const email = emailInput.value.trim();
  const password = passInput.value;
  if (!email || !password) return setStatus("ุฃุฏุฎู ุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ ุฃููุงู", true);

  auth.createUserWithEmailAndPassword(email, password)
    .then(() => {
      setStatus("โ ุชู ุฅูุดุงุก ุงูุญุณุงุจ ุจูุฌุงุญ");
    })
    .catch(error => {
      setStatus("ุฎุทุฃ: " + error.message, true);
      console.error("signup error:", error);
    });
}

// ุชุณุฌูู ุฏุฎูู
function login() {
  const email = emailInput.value.trim();
  const password = passInput.value;
  if (!email || !password) return setStatus("ุฃุฏุฎู ุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ ุฃููุงู", true);

  auth.signInWithEmailAndPassword(email, password)
    .then(() => {
      setStatus("โ ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ");
    })
    .catch(error => {
      setStatus("ุฎุทุฃ: " + error.message, true);
      console.error("login error:", error);
    });
}

// ุชุณุฌูู ุฎุฑูุฌ
function logout() {
  auth.signOut()
    .then(() => {
      setStatus("๐ช ุชู ุชุณุฌูู ุงูุฎุฑูุฌ");
    })
    .catch(error => {
      setStatus("ุฎุทุฃ: " + error.message, true);
      console.error("logout error:", error);
    });
}

// ุฑุจุท ุงูุฃุฒุฑุงุฑ
signupBtn.addEventListener("click", signup);
loginBtn.addEventListener("click", login);
logoutBtn.addEventListener("click", logout);

// ูุชุงุจุนุฉ ุญุงูุฉ ุงููุณุชุฎุฏู (ุงุฎุชูุงุฑู)
auth.onAuthStateChanged(user => {
  if (user) {
    setStatus("ูุณุฌู ุฏุฎูู: " + (user.email || user.uid));
  } else {
    setStatus("ุบูุฑ ูุณุฌู ุฏุฎูู ุญุงููุงู");
  }
});
</script><!-- ูุงุฌูุฉ ุงูุฏุฑุฏุดุฉ -->
<div id="chatSection" style="display:none; margin-top:20px;">
  <h3>๐ฌ ุบุฑูุฉ ุงูุฏุฑุฏุดุฉ</h3>
  <div id="messages" style="border:1px solid #ccc; padding:10px; height:200px; overflow-y:auto; background:#f9f9f9;">
  </div>
  <input type="text" id="messageInput" placeholder="ุงูุชุจ ุฑุณุงูุฉ..." style="width:70%; padding:5px;">
  <button id="sendBtn" style="background:#4CAF50; color:white; padding:6px 10px; border:none; border-radius:4px;">
    ุฅุฑุณุงู
  </button>
</div>